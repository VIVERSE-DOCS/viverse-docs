# Pet Rescue Template

***

## Using The Pet Rescue Template Checklist

{% stepper %}
{% step %}
### <mark style="color:red;">Required:</mark> A 3D environment needs to be added with collider(s).
{% endstep %}

{% step %}
### <mark style="color:red;">Required:</mark> Spawn point is prebuilt, but requires customization of position and rotation for different environments.
{% endstep %}

{% step %}
### Optional: 4 cat groups are prebuilt (GroupA - GroupD), but can be customized by adding or removing groups.
{% endstep %}

{% step %}
### <mark style="color:red;">Required:</mark> 17 cat hiding positions are prebuilt (A1-A8, B1-B3,  C1-C3, D1-D3), but require customization of position and rotation for different environments. Hiding positions can be added or removed.
{% endstep %}

{% step %}
### Optional: 9 cat models are prebuilt and have been added to hiding positions. Cat models can be customized by adjusting the scale of the models and cats can be added or removed.
{% endstep %}

{% step %}
### <mark style="color:red;">Required:</mark> Catbox is prebuilt, but requires customization of position, rotation and scale for different environments. Cat collect objects and cat models can be added or removed.
{% endstep %}

{% step %}
### Optional: Random waypoint assignment object is prebuilt. Can be customized if cats or cat groups are added or removed.
{% endstep %}

{% step %}
### <mark style="color:red;">Required:</mark> Instructions board and start button are prebuilt, but require customization of position, rotation and scale for different environments.
{% endstep %}

{% step %}
### Optional: Countdown is prebuilt.
{% endstep %}

{% step %}
### Optional: Scoreboard is prebuilt.
{% endstep %}

{% step %}
### Optional: Game over user interface is prebuilt.
{% endstep %}

{% step %}
### Optional: GameManager object is prebuilt.
{% endstep %}

{% step %}
### Optional: Quest system is configured for finding 9 cats, but can be customized if cats are added or removed.
{% endstep %}

{% step %}
### Optional: Cat animations are prebuilt.
{% endstep %}

{% step %}
### Optional: Audio including cat sounds, background music and celebration music are prebuilt.
{% endstep %}

{% step %}
### Optional: Cat particle effects are prebuilt.


{% endstep %}
{% endstepper %}

## Setup 3D Environment

A 3D environment needs to be added to the template project. The basic process is in the following guide, but the process can differ based on projects.

{% stepper %}
{% step %}
### Add the 3D model to the project

A. In the **Assets** window, create a new folder called **Models**.

B. Drag your 3D model into the **Assets** window.

<figure><img src="../../.gitbook/assets/image.png" alt="" width="322"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Add the 3D model to the scene

A. Locate the 3D model's **Template** file inside the folder that was generated by the 3D model that was added to the **Assets** window.

B. Drag the **Template** file to the Hierarchy. In the sample project, lights were added to the model.

C. Update **Position, Rotation** and **Scale** of the model.

<figure><img src="../../.gitbook/assets/image (1).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Add and configure the collider

A. In the Hierarchy, create a new entity for the collider.

B. Add a **Collision** component.

C. Change the collision type to **Mesh**.

D. Add the **Render** file to the **Render Asset**.

E. Add a **Rigidbody** component.

F. Update the **Position, Rotation** and **Scale** in order to match up the collider with the model.

<figure><img src="../../.gitbook/assets/image (2).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}

## Setup Spawn Point

The spawn point is already added to the template project, but needs to be configured for a desired Position and Rotation.

{% stepper %}
{% step %}
### Create a spawn point

A. In the **Hierarchy**, add a new entity.

B. The spawn point's name is arbitrary, but the **spawn-point** tag needs to be added.

C. Update the **Position** and **Rotation** so that the location is above the ground.

D. At this point, the game can be published to VIVERSE for testing, ensuring that the avatar can traverse the environment.

<figure><img src="../../.gitbook/assets/image (3).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}

## Setup Cat Groups

The cat groups are already added to the template project, but groups can be added or removed as needed.

{% stepper %}
{% step %}
### Configure cat groups

A. A parent entity called Cats which holds the cats and hiding positions.

B. **GroupA**, **GroupB**, **GroupC** and **GroupD** have been created. Cats are grouped based on poses. Groups can be added or removed.

<figure><img src="../../.gitbook/assets/image (4).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}

## Setup Cat Hiding Positions

The cat hiding positions are already added to the template project, but hiding positions can be added or removed as needed. Moving and rotating the cat hiding positions is recommended as opposed to moving and rotating the cat models.

{% stepper %}
{% step %}
### Configure cat hiding positions

A. Each group has several hiding positions. In the sample, the positions under **GroupA** are named **A1, A2, A3,** etc.

B. Update the **Position** and **Rotation** for each hiding spot. Adding a cat model under the position can help with visually placing the position.

<figure><img src="../../.gitbook/assets/image (5).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}

## Setup Cat Models

The cat models are already added to the template project, but cat models can be added or removed as needed.

{% stepper %}
{% step %}
### Cat models

A. Cat models are located in the **Models/Cats** directory.

<figure><img src="../../.gitbook/assets/image (6).png" alt="" width="310"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Adding cat models in the scene

A. For each cat, drag the **Template** from the **Assets** window to a hiding position in the **Hierarchy**.

B. Select the cat in the **Hierarchy**.

C. Update the **Scale** for the cat model so the size is appropriate for the environment.

<figure><img src="../../.gitbook/assets/image (7).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Disable the cats

A. Select all the cats in the groups and **disable** them so that they are disabled by default.

<figure><img src="../../.gitbook/assets/image (8).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Add the cat script to the project

A. Drag the **cat.mjs** script to the Assets window.

B. Click the **parse** button.

<figure><img src="../../.gitbook/assets/image (534).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Configure the cat models

A. Add the **cat** tag in the **Tags** field.

B. Add a **Sphere Collider** with **Radius .5** and **Position Offset** **(0, .23, 0)**.

C. Add the **cat.mjs** script.

D. Click the **Edit Viverse Extension** button.

<figure><img src="../../.gitbook/assets/image (535).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Add The VIVERSE functionality

A. For each cat, add a **NotificationCenterSubscribeEntityPicking** trigger with **throttle in ms** set to **1600**.

B. Add a **EntityDisable** action with **delay in ms** set to **2000**.

C. Add a **EntityFadeOut** action with **duration in ms** set to **1500**.

D. **Add a EntityEnableById** action with the **pick up specify execution entity** set to the corresponding cat in the cat box. For cat 1, select **cat\_1\_collect**, for cat 2, select **cat\_2\_collect**, etc.

<figure><img src="../../.gitbook/assets/image (536).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Continue Adding VIVERSE Functionality

A. Add the **PCAppEventSubscribe** trigger with **notification name to subscribe** set to **cat:fadeIn.**

B. Add the **EntityFadeIn** action with **duration in ms** set to **300**.

<figure><img src="../../.gitbook/assets/image (537).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}

## Setup Catbox

The Catbox is already added to the template project, but needs to be configured for a desired Position, Rotation and Scale.

{% stepper %}
{% step %}
### Add the catbox to the scene

A. Drag the **Catbox** **Template** to the Hierarchy.

B. Place the **Catbox** under the **Cats** object.

C. Update the **Position, Rotation** and **Scale** of the **Catbox** to the appropriate parameters for the environment.

<figure><img src="../../.gitbook/assets/image (9).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Add cat collect positions to the Catbox

A. Create a new entity for each cat under the **CatBox** entity. In the sample, the entities are **cat\_1\_collect, cat\_2\_collect**, etc.

<figure><img src="../../.gitbook/assets/image (10).png" alt="" width="109"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Configure cat collect positions

A. Add the **cat\_collect** tag to each cat collect position.

B. Update the **Position, Rotation** and **Scale** of the cat collect positions to place the cats in the appropriate locations.

<figure><img src="../../.gitbook/assets/image (532).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Add the cat models to the cat collect positions

A. Add the cat models and paste them under their respective cat collect positions.

B. Update the **Scale** of each cat model to **(.01,.0 1, .01)**.

<figure><img src="../../.gitbook/assets/image (533).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Disable the cat collect positions

A. Select all the cat collect positions under the **CatBox** entity.

B. Disable all the cat collect positions so that the cats are hidden.

<figure><img src="../../.gitbook/assets/image (531).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}



## Setup Random Waypoint Assignment

The random waypoint assigment object is already added to the project and configured. It can be customized if cats or cat groups are added or removed.

{% stepper %}
{% step %}
### Add the **RandomWaypointAssignment** script to the project

A. Drag the **RandomWaypointAssignment** script to the **Assets** window.

B. Select the **RandomWaypointAssignment** script and click the **Parse** button.

<figure><img src="../../.gitbook/assets/image (538).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Configure the **RandomWaypointAssignment** entity

A. Create a new entity called **RandomWaypointAssignment** and add the RandomWaypointAssignment script to it.

B. Place a checkmark on the DebugMode checkbox for testing.

C. Add the number of groups to the **Array Size** box. In the sample, there are 4 groups. Add each of the 4 groups to the **Waypoint Group Entity** boxes. Add the number of cats in each group to the **Random Entity** box. Add each cat from the **Cats** entity to the boxes below the **Random Entity** box.

<figure><img src="../../.gitbook/assets/image (539).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}

{% step %}
### Test the RandomWaypointAssignment script

A. Publish the project to **VIVERSE** to test the script. Click the **Reset** button to confirm the cats are being placed in the appropriate locations. Remove the checkmark placed on the **DebugMode** checkbox on the **RandomWaypointAssignment** script to prevent the dialog box from showing in-game.

<figure><img src="../../.gitbook/assets/image (540).png" alt="" width="375"><figcaption></figcaption></figure>
{% endstep %}
{% endstepper %}
